@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewBag.Title = $"{@Model.FullName} Details";
}
         <!--UPDATE 2/1/2-->
@{
    var currentUser = ViewBag.CurrentUser as ApplicationUser;
    var bookedExams = ViewBag.BookedExams as List<CandidateCertificate>;
}

@model ApplicationUser

<table class="table table-striped table-bordered">

    <div class="text-center mb-4">
    <h2>User Details</h2>
    <tbody>
        <tr>
            <td><strong>Full Name:</strong></td>
            <td class="small align-middle">@Model.FullName</td>
        </tr>
        <tr>
            <td><strong>Email:</strong></td>
            <td class="small align-middle">@Model.Email</td>
        </tr>
        <tr>
            <td><strong>Username:</strong></td>
            <td class="small align-middle">@Model.UserName</td>
        </tr>
    </tbody>
</table>
    @if (bookedExams != null && bookedExams.Any())
    {
        <h3>Booked Exams:</h3>
        <ul>
            @foreach (var certificate in bookedExams)
            {
                <li>
                    <strong>Exam:</strong> @certificate.CertificateTopic?.TopicName <br />
                    <strong>Date of Examination:</strong> @certificate.ExaminationDate.ToString("yyyy-MM-dd HH:mm") <br />
                    <strong>Score:</strong> @((double?)certificate.CandidateScore / (double?)certificate.MaximumScore * 100)%<br />
                    <strong>Result:</strong>
                    @if (certificate.ExaminationDate > DateTime.Now)
                    {
                        <span>Pending</span>
                    }
                    else
                    {
                        <span>@(certificate.ResultLabel ? "Passed" : "Failed")</span>
                    }
                </li>
            }
        </ul>
    }
    else
    {
        <p>No exams booked.</p>
    }

